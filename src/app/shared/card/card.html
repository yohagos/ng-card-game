<!-- @if (loading()) { loading... } @else {
<div class="board">
  <div class="zone"></div>
  <div class="zone"></div>
  <div class="zone"></div>
  <div
    class="zone center"
    cdkDropList
    id="center"
    [cdkDropListData]="centerCards"
    [cdkDropListConnectedTo]="['stack']"
    (cdkDropListDropped)="dropCard($event)"
  >
    <div *ngFor="let card of centerCards" cdkDrag class="card {{ card.suit }} ">
      <div class="corner top-left">
        <div class="value">{{ card.value }}</div>
        <div class="suit">{{ card.suit }}</div>
      </div>
      <div class="card-center">
        {{ card.suit }}
      </div>
      <div class="corner bottom-right">
        <div class="value">{{ card.value }}</div>
        <div class="suit">{{ card.suit }}</div>
      </div>
    </div>
  </div>

  <div
    class="zone stack"
    cdkDropList
    id="stack"
    [cdkDropListData]="stackCards"
    [cdkDropListConnectedTo]="['center']"
    (cdkDropListDropped)="dropCard($event)"
  >
    <div *ngFor="let card of stackCards; let i = index" cdkDrag class="card {{ card.suit }}">
      <div class="corner top-left">
        <div class="value">{{ card.value }}</div>
        <div class="suit">{{ card.suit }}</div>
      </div>
      <div class="card-center">
        {{ card.suit }}
      </div>
      <div class="corner bottom-right">
        <div class="value">{{ card.value }}</div>
        <div class="suit">{{ card.suit }}</div>
      </div>
    </div>
  </div>
</div>
} -->

<div class="board">
  <div
    class="zone to-center"
    cdkDropList
    id="userA"
    [cdkDropListData]="userC"
    [cdkDropListConnectedTo]="['center']"
    (cdkDropListDropped)="dropCard($event)"
  >
    <div class="card-row">
      @for (card of userB; track $index) {
      <div class="card {{ card.suit }}" cdkDrag>
        <div class="corner top-left">
        <div class="value">{{ card.value }}</div>
        <div class="suit">{{ card.suit }}</div>
      </div>
      </div>
      }
    </div>
  </div>
  <div
    class="zone left-center"
    cdkDropList
    id="userB"
    [cdkDropListData]="userB"
    [cdkDropListConnectedTo]="['center']"
    (cdkDropListDropped)="dropCard($event)"
  >
<div class="card-row">
      @for (card of userB; track $index) {
      <div class="card {{ card.suit }}" cdkDrag>
        <div class="corner top-left">
        <div class="value">{{ card.value }}</div>
        <div class="suit">{{ card.suit }}</div>
      </div>
      </div>
      }
    </div>
</div>
  <div
    class="zone center"
    cdkDropList
    id="center"
    [cdkDropListData]="centerCards"
    [cdkDropListConnectedTo]="['userA,userB,userC,userD']"
    (cdkDropListDropped)="dropCard($event)"
  >
  <div class="card-row">
      @for (card of centerCards; track $index) {
      <div class="card {{ card.suit }}" cdkDrag>
<div class="corner top-left">
        <div class="value">{{ card.value }}</div>
        <div class="suit">{{ card.suit }}</div>
      </div>
      </div>
      }
    </div>
</div>
  <div
    class="zone right-center"
    cdkDropList
    id="userC"
    [cdkDropListData]="userC"
    [cdkDropListConnectedTo]="['stack']"
    (cdkDropListDropped)="dropCard($event)"
  >
<div class="card-row">
      @for (card of userB; track $index) {
      <div class="card {{ card.suit }}" cdkDrag>
        <div class="corner top-left">
        <div class="value">{{ card.value }}</div>
        <div class="suit">{{ card.suit }}</div>
      </div>
      </div>
      }
    </div>
</div>
  <div
    class="zone bottom-center"
    cdkDropList
    id="userD"
    [cdkDropListData]="userD"
    [cdkDropListConnectedTo]="['stack']"
    (cdkDropListDropped)="dropCard($event)"
  >
<div class="card-row">
      @for (card of userB; track $index) {
      <div class="card {{ card.suit }}" cdkDrag>
        <div class="corner top-left">
        <div class="value">{{ card.value }}</div>
        <div class="suit">{{ card.suit }}</div>
      </div>
      </div>
      }
    </div>
</div>
</div>
